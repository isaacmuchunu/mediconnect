{% extends "base.html" %}
{% block content %}
<div class="mt-10 max-w-4xl mx-auto">
    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <div class="bg-blue-600 text-white px-6 py-4">
            <h3 class="text-2xl font-bold">{{ user.username }}'s Profile</h3>
        </div>
        <div class="p-6">
            <div class="flex justify-center mb-6">
                <img src="{{ user.profile.profile_picture.url }}" alt="Profile Picture" class="rounded-full w-32 h-32 object-cover border-4 border-blue-600">
            </div>
            <dl class="space-y-4">
                <div class="flex">
                    <dt class="w-1/3 font-semibold text-gray-700">Full Name</dt>
                    <dd class="w-2/3">{{ user.first_name }} {{ user.last_name }}</dd>
                </div>
                <div class="flex">
                    <dt class="w-1/3 font-semibold text-gray-700">Email</dt>
                    <dd class="w-2/3">{{ user.email }}</dd>
                </div>
                <div class="flex">
                    <dt class="w-1/3 font-semibold text-gray-700">Role</dt>
                    <dd class="w-2/3">{{ user.get_role_display }}</dd>
                </div>
                <div class="flex">
                    <dt class="w-1/3 font-semibold text-gray-700">Address</dt>
                    <dd class="w-2/3">{{ user.profile.address|default:"Not provided" }}</dd>
                </div>
                <div class="flex">
                    <dt class="w-1/3 font-semibold text-gray-700">Phone</dt>
                    <dd class="w-2/3">{{ user.profile.phone_number|default:"Not provided" }}</dd>
                </div>
                {% if user.role == 'DOCTOR' %}
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">Specialty</dt>
                        <dd class="w-2/3">{{ user.doctor_profile.specialty|default:"Not provided" }}</dd>
                    </div>
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">License Number</dt>
                        <dd class="w-2/3">{{ user.doctor_profile.license_number|default:"Not provided" }}</dd>
                    </div>
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">Hospital Affiliation</dt>
                        <dd class="w-2/3">{{ user.doctor_profile.hospital_affiliation|default:"Not provided" }}</dd>
                    </div>
                {% elif user.role == 'PATIENT' %}
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">Date of Birth</dt>
                        <dd class="w-2/3">{{ user.patient_profile.date_of_birth|date:"Y-m-d"|default:"Not provided" }}</dd>
                    </div>
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">Gender</dt>
                        <dd class="w-2/3">{{ user.patient_profile.gender|default:"Not provided" }}</dd>
                    </div>
                {% elif user.role == 'AMBULANCE_STAFF' %}
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">Employee ID</dt>
                        <dd class="w-2/3">{{ user.ambulance_staff_profile.employee_id|default:"Not provided" }}</dd>
                    </div>
                    <div class="flex">
                        <dt class="w-1/3 font-semibold text-gray-700">Driver License</dt>
                        <dd class="w-2/3">{{ user.ambulance_staff_profile.driver_license|default:"Not provided" }}</dd>
                    </div>
                {% endif %}
            </dl>
            <div class="text-center mt-6">
                <a href="{% url 'users:profile_update' %}" class="bg-medical-blue text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-300">
                    <i class="fas fa-edit mr-2"></i>Edit Profile
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}