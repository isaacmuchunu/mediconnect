{% extends 'patients/base.html' %}
{% block title %}Patient Dashboard{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-4">Patient Dashboard</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Patient Information -->
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-4">Patient Information</h2>
            <p><strong>Name:</strong> {{ patient.user.get_full_name }}</p>
            <p><strong>Email:</strong> {{ patient.user.email }}</p>
            <p><strong>Patient ID:</strong> {{ patient.patient_id }}</p>
            <!-- Add more patient details as needed -->
        </div>

        <!-- Recent Referrals -->
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-4">Recent Referrals</h2>
            <ul>
                {% for referral in recent_referrals %}
                    <li>{{ referral.reason }} - {{ referral.date_referred }}</li>
                {% empty %}
                    <li>No recent referrals.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Upcoming Appointments -->
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-4">Upcoming Appointments</h2>
            <ul>
                {% for appointment in upcoming_appointments %}
                    <li>{{ appointment.date }} at {{ appointment.time }} - Dr. {{ appointment.doctor.get_full_name }}</li>
                {% empty %}
                    <li>No upcoming appointments.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Ambulance Requests -->
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-4">Ambulance Requests</h2>
            <ul>
                {% for ambulance in ambulance_requests %}
                    <li>{{ ambulance.pickup_location }} - {{ ambulance.status }}</li>
                {% empty %}
                    <li>No ambulance requests.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}